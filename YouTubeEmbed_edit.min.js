/*
######################################################################
compressed JS/jQuery script for Typesetter CMS plugin YouTube Embed
Author: J. Krausz
Date: 2017-08-03
Version 1.0b3
######################################################################
*/

function gp_init_inline_edit(e,t){$gp.LoadStyle(YouTubeEmbed.base+"/YouTubeEmbed_edit.css"),gp_editing.editor_tools(),gp_editor={edit_div:gp_editing.get_edit_area(e),save_path:gp_editing.get_path(e),destroy:function(){},checkDirty:function(){return gp_editor.isDirty},resetDirty:function(){},updateElement:function(){},gp_saveData:function(){},codeChanged:!1,isDirty:!1,updateEditor:function(){},embedCode:!1,getEmbedCode:function(){},applyEmbedCode:function(){},toggleCodeEditing:function(){},video:"",YouTubeParams:{},YouTubeDefaults:{autoplay:0,cc_load_policy:0,color:"red",controls:1,disablekb:0,end:"",fs:1,hl:"default language",iv_load_policy:1,listType:"video",list:{video:"",playlist:"",search:"",user_uploads:""},loop:0,modestbranding:0,origin:"",playsinline:0,rel:1,showinfo:1,start:"",theme:"dark"},getYouTubeParams:function(){},setYouTubeParams:function(){},sizing:{method:"responsive_16by9",width:!1,height:!1,default_sizes:{fixed:{width:854,height:460},responsive_16by9:{width:854,height:460},responsive_4by3:{width:640,height:380}}},getSize:function(){},setSize:function(){},ui:{},controls:{box0:{ctl0:{id:"sizing",tag:"select",title:"Video Player Size/Aspect Ratio",icon:"fa fa-arrows",attrs:{},classes:"ctl-100",options:[{text:"responsive 16:9",value:"responsive_16by9"},{text:"responsive 4:3",value:"responsive_4by3"},{text:"fixed size",value:"fixed"}],actions:[{on:"change",call:"setSize"}]},ctl1:{id:"width",tag:"input",title:"Fixed Width in Pixels",icon:"fa fa-arrows-h",attrs:{placeholder:"width",type:"number",min:"200"},classes:"ctl-50",actions:[{on:"change",call:"setSize"}]},ctl2:{id:"height",tag:"input",title:"Fixed Height in Pixels",icon:"fa fa-arrows-v",attrs:{placeholder:"height",type:"number",min:"200"},classes:"ctl-50",actions:[{on:"change",call:"setSize"}]}},box1:{ctl0:{id:"listType",tag:"select",title:"Video Content",icon:"fa fa-youtube-play",attrs:{},classes:"ctl-100 yt-param",options:[{text:"video(s)",value:"video"},{text:"playlist ID",value:"playlist"},{text:"search query",value:"search"},{text:"user uploads",value:"user_uploads"}],actions:[{on:"change",call:"setYouTubeParams"}]},ctl1:{id:"video",tag:"input",title:"YouTube Video ID(s)",icon:"fa fa-file-video-o",attrs:{placeholder:"Video-ID[,Video-ID,...]",type:"text",required:"required",pattern:"[A-Za-z0-9_,-]{11,}"},classes:"ctl-100 yt-param",actions:[{on:"change",call:"setYouTubeParams"}]},ctl2:{id:"playlist",tag:"input",title:"YouTube Playlist ID",icon:"fa fa-list-ul",attrs:{placeholder:"Playlist-ID",type:"text",required:"required",pattern:"[A-Za-z0-9_,-]{18,}"},classes:"ctl-100 yt-param",actions:[{on:"change",call:"setYouTubeParams"}]},ctl3:{id:"search",tag:"input",title:"Search Query",icon:"fa fa-search",attrs:{placeholder:"Search Query",type:"text",required:"required",pattern:".{2,}"},classes:"ctl-100 yt-param",actions:[{on:"change",call:"setYouTubeParams"}]},ctl4:{id:"user_uploads",tag:"input",title:"User Uploads",icon:"fa fa-user",attrs:{placeholder:"User or Channel Name",type:"text",required:"required",pattern:".{4,}"},classes:"ctl-100 yt-param",actions:[{on:"change",call:"setYouTubeParams"}]}},box2:{ctl0:{id:"autoplay",tag:"select",title:"Auto Play",icon:"fa fa-play",attrs:{},classes:"ctl-100 yt-param",options:[{text:"autoplay off",value:"0"},{text:"autoplay on",value:"1"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box3:{ctl0:{id:"loop",tag:"select",title:"Loop",icon:"fa fa-refresh",attrs:{},classes:"ctl-100 yt-param",options:[{text:"loop off",value:"0"},{text:"loop on",value:"1"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box4:{ctl0:{id:"theme",tag:"select",title:"Theme",icon:"fa fa-paint-brush",attrs:{},classes:"ctl-100 yt-param",options:[{text:"dark theme",value:"dark"},{text:"light theme",value:"light"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box5:{ctl0:{id:"color",tag:"select",title:"Progress Bar Color",icon:"fa fa-paint-brush",attrs:{},classes:"ctl-100 yt-param",options:[{text:"red progress bar",value:"red"},{text:"white progress bar",value:"white"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box6:{ctl0:{id:"controls",tag:"select",title:"Show Controls",icon:"fa fa-volume-up",attrs:{},classes:"ctl-100 yt-param",options:[{text:"hide controls",value:"0"},{text:"show controls",value:"1"},{text:"show controls on playback",value:"2"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box7:{ctl0:{id:"disablekb",tag:"select",title:"Keyboard Controls",icon:"fa fa-keyboard-o",attrs:{},classes:"ctl-100 yt-param",options:[{text:"keyboard controls on",value:"0"},{text:"keyboard controls off",value:"1"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box8:{ctl0:{id:"cc_load_policy",tag:"select",title:"Keyboard Controls",icon:"fa fa-font",attrs:{},classes:"ctl-100 yt-param",options:[{text:"closed captions by user prefs",value:"0"},{text:"force show closed captions",value:"1"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box9:{ctl0:{id:"fs",tag:"select",title:"Fullscreen Button",icon:"fa fa-expand",attrs:{},classes:"ctl-100 yt-param",options:[{text:"hide fullscreen button",value:"0"},{text:"show fullscreen button",value:"1"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box10:{ctl0:{id:"hl",tag:"select",title:"Player Language",icon:"fa fa-globe",attrs:{},classes:"ctl-100 yt-param",options:[{text:"default language",value:"default language"},{text:"Abkhazian",value:"ab"},{text:"Afar",value:"aa"},{text:"Afrikaans",value:"af"},{text:"Albanian",value:"sq"},{text:"Amharic",value:"am"},{text:"Arabic",value:"ar"},{text:"Aragonese",value:"an"},{text:"Armenian",value:"hy"},{text:"Assamese",value:"as"},{text:"Aymara",value:"ay"},{text:"Azerbaijani",value:"az"},{text:"Bashkir",value:"ba"},{text:"Basque",value:"eu"},{text:"Bengali (Bangla)",value:"bn"},{text:"Bhutani",value:"dz"},{text:"Bihari",value:"bh"},{text:"Bislama",value:"bi"},{text:"Breton",value:"br"},{text:"Bulgarian",value:"bg"},{text:"Burmese",value:"my"},{text:"Byelorussian (Belarusian)",value:"be"},{text:"Cambodian",value:"km"},{text:"Catalan",value:"ca"},{text:"Cherokee",value:"chr"},{text:"Chewa",value:"nya"},{text:"Chinese",value:"zh"},{text:"Chinese (Simplified)",value:"zh-Hans"},{text:"Chinese (Traditional)",value:"zh-Hant"},{text:"Corsican",value:"co"},{text:"Croatian",value:"hr"},{text:"Czech",value:"cs"},{text:"Danish",value:"da"},{text:"Divehi",value:"div"},{text:"Dutch",value:"nl"},{text:"Edo",value:"bin"},{text:"English",value:"en"},{text:"Esperanto",value:"eo"},{text:"Estonian",value:"et"},{text:"Faeroese",value:"fo"},{text:"Farsi",value:"fa"},{text:"Fiji",value:"fj"},{text:"Finnish",value:"fi"},{text:"French",value:"fr"},{text:"Frisian",value:"fy"},{text:"Fulfulde",value:"ful"},{text:"Galician",value:"gl"},{text:"Gaelic (Scottish)",value:"gd"},{text:"Gaelic (Manx)",value:"gv"},{text:"Georgian",value:"ka"},{text:"German",value:"de"},{text:"Greek",value:"el"},{text:"Greenlandic",value:"kl"},{text:"Guarani",value:"gn"},{text:"Gujarati",value:"gu"},{text:"Haitian Creole",value:"ht"},{text:"Hausa",value:"ha"},{text:"Hawaiian",value:"haw"},{text:"Hebrew he",value:"iw"},{text:"Hindi",value:"hi"},{text:"Hungarian",value:"hu"},{text:"Icelandic",value:"is"},{text:"Ido",value:"io"},{text:"Igbo",value:"ibo"},{text:"Indonesian",value:"in"},{text:"Interlingua",value:"ia"},{text:"Interlingue",value:"ie"},{text:"Inuktitut",value:"iu"},{text:"Inupiak",value:"ik"},{text:"Irish",value:"ga"},{text:"Italian",value:"it"},{text:"Japanese",value:"ja"},{text:"Javanese",value:"jv"},{text:"Kannada",value:"kn"},{text:"Kanuri",value:"kau"},{text:"Kashmiri",value:"ks"},{text:"Kazakh",value:"kk"},{text:"Kinyarwanda (Ruanda)",value:"rw"},{text:"Kirghiz",value:"ky"},{text:"Kirundi (Rundi)",value:"rn"},{text:"Konkani",value:"kok"},{text:"Korean",value:"ko"},{text:"Kurdish",value:"ku"},{text:"Laothian",value:"lo"},{text:"Latin",value:"la"},{text:"Latvian (Lettish)",value:"lv"},{text:"Limburgish ( Limburger)",value:"li"},{text:"Lingala",value:"ln"},{text:"Lithuanian",value:"lt"},{text:"Macedonian",value:"mk"},{text:"Malagasy",value:"mg"},{text:"Malay",value:"ms"},{text:"Malayalam",value:"ml"},{text:"Maltese",value:"mt"},{text:"Maori",value:"mi"},{text:"Marathi",value:"mr"},{text:"Moldavian",value:"mo"},{text:"Mongolian",value:"mn"},{text:"Nauru",value:"na"},{text:"Nepali",value:"ne"},{text:"Norwegian",value:"no"},{text:"Occitan",value:"oc"},{text:"Oriya",value:"or"},{text:"Oromo (Afaan Oromo)",value:"om"},{text:"Papiamentu",value:"pap"},{text:"Pashto (Pushto)",value:"ps"},{text:"Polish",value:"pl"},{text:"Portuguese",value:"pt"},{text:"Punjabi",value:"pa"},{text:"Quechua",value:"qu"},{text:"Rhaeto-Romance",value:"rm"},{text:"Romanian",value:"ro"},{text:"Russian",value:"ru"},{text:"Samoan",value:"sm"},{text:"Sangro",value:"sg"},{text:"Sanskrit",value:"sa"},{text:"Serbian",value:"sr"},{text:"Serbo-Croatian",value:"sh"},{text:"Sesotho",value:"st"},{text:"Setswana",value:"tn"},{text:"Shona",value:"sn"},{text:"Sichuan Yi",value:"ii"},{text:"Sindhi",value:"sd"},{text:"Sinhalese",value:"si"},{text:"Siswati",value:"ss"},{text:"Slovak",value:"sk"},{text:"Slovenian",value:"sl"},{text:"Somali",value:"so"},{text:"Spanish",value:"es"},{text:"Sundanese",value:"su"},{text:"Swahili (Kiswahili)",value:"sw"},{text:"Swedish",value:"sv"},{text:"Syriac",value:"syr"},{text:"Tagalog",value:"tl"},{text:"Tajik",value:"tg"},{text:"Tamazight",value:"zgh"},{text:"Tamil",value:"ta"},{text:"Tatar",value:"tt"},{text:"Telugu",value:"te"},{text:"Thai",value:"th"},{text:"Tibetan",value:"bo"},{text:"Tigrinya",value:"ti"},{text:"Tonga",value:"to"},{text:"Tsonga",value:"ts"},{text:"Turkish",value:"tr"},{text:"Turkmen",value:"tk"},{text:"Twi",value:"tw"},{text:"Uighur",value:"ug"},{text:"Ukrainian",value:"uk"},{text:"Urdu",value:"ur"},{text:"Uzbek",value:"uz"},{text:"Venda",value:"ven"},{text:"Vietnamese",value:"vi"},{text:"Volap&uuml;k",value:"vo"},{text:"Wallon",value:"wa"},{text:"Welsh",value:"cy"},{text:"Wolof",value:"wo"},{text:"Xhosa",value:"xh"},{text:"Yiddish",value:"yi"},{text:"Yoruba",value:"yo"},{text:"Zulu",value:"zu"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box11:{ctl0:{id:"showinfo",tag:"select",title:"Show Video Information",icon:"fa fa-info-circle",attrs:{},classes:"ctl-100 yt-param",options:[{text:"no infos before playback",value:"0"},{text:"show infos",value:"1"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box12:{ctl0:{id:"iv_load_policy",tag:"select",title:"Show Video Annotations",icon:"fa fa-sticky-note-o",attrs:{},classes:"ctl-100 yt-param",options:[{text:"show video annotations",value:"1"},{text:"do not show video annotations",value:"3"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box13:{ctl0:{id:"modestbranding",tag:"select",title:"YouTube Logo (Modest Branding)",icon:"fa  fa-youtube",attrs:{},classes:"ctl-100 yt-param",options:[{text:"show YouTube logo",value:"0"},{text:"do not show YouTube logo",value:"1"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box14:{ctl0:{id:"playsinline",tag:"select",title:"Play Video Inline on iOS",icon:"fa  fa-apple",attrs:{},classes:"ctl-100 yt-param",options:[{text:"iOS: play fullscreen",value:"0"},{text:"iOS: play inline",value:"1"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box15:{ctl0:{id:"rel",tag:"select",title:"Show Related Videos",icon:"fa fa-th",attrs:{},classes:"ctl-100 yt-param",options:[{text:"do not show related videos",value:"0"},{text:"show related videos",value:"1"}],actions:[{on:"change",call:"setYouTubeParams"}]}},box16:{ctl0:{id:"start",tag:"input",title:"Start Video at (seconds)",icon:"fa  fa-toggle-right",attrs:{placeholder:"0",type:"number"},classes:"ctl-100 yt-param",actions:[{on:"change",call:"setYouTubeParams"}]}},box17:{ctl0:{id:"end",tag:"input",title:"End Video at (seconds)",icon:"fa fa-toggle-left",attrs:{placeholder:"59",type:"number"},classes:"ctl-100 yt-param",actions:[{on:"change",call:"setYouTubeParams"}]}},box18:{ctl0:{id:"origin",tag:"input",title:"Origin",icon:"fa fa-home",attrs:{placeholder:"http://www.example.com",type:"text"},classes:"ctl-100 yt-param",actions:[{on:"change",call:"setYouTubeParams"},{on:"click focus",call:"setOrigin"}]}}}},gp_editor.gp_saveData=function(){gp_editor.edit_div.find(".gpclear").remove();var e=gp_editor.edit_div.html();return gp_editor.isDirty=!1,"&gpcontent="+encodeURIComponent(e)},gp_editor.toggleCodeEditing=function(e){var t=$("div.editor_ctl_code_editor"),a=$(".editor_ctl_edit_btn");$("button#ts_YTE_close_code");switch(e){case"show":gp_editor.ui.option_area.find(".yt-param select, .yt-param input, .yt-param textarea").prop("disabled",!0),t.slideDown(),a.slideUp();break;case"close":gp_editor.codeChanged&&(apply_changes=confirm("Embed code was changed. Apply changes now?"),apply_changes&&(gp_editor.applyEmbedCode(),gp_editor.updateControls())),gp_editor.ui.option_area.find(".yt-param select, .yt-param input, .yt-param textarea").prop("disabled",!1),t.slideUp(),a.slideDown();break;case"apply":gp_editor.codeChanged=!1,gp_editor.applyEmbedCode(),gp_editor.updateControls()}},gp_editor.getEmbedCode=function(e){var t=gp_editor.edit_div.find("iframe");return t.length?(gp_editor.embedCode=t[0].outerHTML,e&&gp_editor.ui.embed_code.val(gp_editor.embedCode),gp_editor.embedCode.indexOf("M7lc1UVf-VE")>0):(alert("Error: iframe element is missing!"),!1)},gp_editor.applyEmbedCode=function(){gp_editor.embedCode=gp_editor.ui.embed_code.val(),gp_editor.edit_div.find("iframe").remove(),gp_editor.edit_div.find(".youtube-embed-player").append(gp_editor.embedCode),gp_editor.isDirty=!0},gp_editor.updateControls=function(){gp_editor.getSize(),gp_editor.getYouTubeParams(),gp_editor.ui.sizing.val(gp_editor.sizing.method),gp_editor.ui.width.val(gp_editor.sizing.width),gp_editor.ui.height.val(gp_editor.sizing.height),gp_editor.ui.autoplay.val(gp_editor.YouTubeParams.autoplay),gp_editor.ui.cc_load_policy.val(gp_editor.YouTubeParams.cc_load_policy),gp_editor.ui.color.val(gp_editor.YouTubeParams.color),gp_editor.ui.controls.val(gp_editor.YouTubeParams.controls),gp_editor.ui.disablekb.val(gp_editor.YouTubeParams.disablekb),gp_editor.ui.end.val(gp_editor.YouTubeParams.end),gp_editor.ui.fs.val(gp_editor.YouTubeParams.fs),gp_editor.ui.hl.val(gp_editor.YouTubeParams.hl),gp_editor.ui.iv_load_policy.val(gp_editor.YouTubeParams.iv_load_policy),gp_editor.ui.listType.val(gp_editor.YouTubeParams.listType),gp_editor.ui.video.val(gp_editor.video),gp_editor.ui.playlist.val(gp_editor.YouTubeParams.list.playlist),gp_editor.ui.search.val(gp_editor.YouTubeParams.list.search),gp_editor.ui.user_uploads.val(gp_editor.YouTubeParams.list.user_upload),gp_editor.ui.loop.val(gp_editor.YouTubeParams.loop),gp_editor.ui.modestbranding.val(gp_editor.YouTubeParams.modestbranding),gp_editor.ui.origin.val(gp_editor.YouTubeParams.origin),gp_editor.ui.playsinline.val(gp_editor.YouTubeParams.playsinline),gp_editor.ui.rel.val(gp_editor.YouTubeParams.rel),gp_editor.ui.showinfo.val(gp_editor.YouTubeParams.showinfo),gp_editor.ui.start.val(gp_editor.YouTubeParams.start),gp_editor.ui.theme.val(gp_editor.YouTubeParams.theme)},gp_editor.getSize=function(){var e=gp_editor.edit_div.find(".youtube-embed-player"),t=gp_editor.edit_div.find("iframe");gp_editor.sizing.method="fixed",e.hasClass("youtube-embed-responsive_16by9")&&(gp_editor.sizing.method="responsive_16by9"),e.hasClass("youtube-embed-responsive_4by3")&&(gp_editor.sizing.method="responsive_4by3");var a=t.attr("width");a||(a=gp_editor.sizing.default_sizes[gp_editor.sizing.method].width);var i=t.attr("height");i||(i=gp_editor.sizing.default_sizes[gp_editor.sizing.method].height),gp_editor.sizing.width=a,gp_editor.sizing.height=i},gp_editor.setOrigin=function(){console.log("SetOrigin"),""==gp_editor.ui.origin.val().trim()&&(gp_editor.ui.origin.val(location.origin).select(),gp_editor.setYouTubeParams())},gp_editor.setSize=function(){var e=gp_editor.edit_div.find(".youtube-embed-player"),t=gp_editor.edit_div.find("iframe");gp_editor.sizing.method=$("#ts_YTE_sizing").val();var a=parseInt($("#ts_YTE_width").val());(isNaN(a)||a<=0)&&(a=gp_editor.sizing.default_sizes[gp_editor.sizing.method].width);var i=parseInt($("#ts_YTE_height").val());switch((isNaN(i)||a<=0)&&(i=gp_editor.sizing.default_sizes[gp_editor.sizing.method].height),$("#ts_YTE_width").val(a),gp_editor.sizing.width=a,$("#ts_YTE_height").val(i),gp_editor.sizing.height=i,t.attr({width:gp_editor.sizing.width,height:gp_editor.sizing.height}),e.removeClass("youtube-embed-responsive_16by9 youtube-embed-responsive_4by3"),gp_editor.sizing.method){default:case"responsive_4by3":case"responsive_16by9":e.addClass("youtube-embed-"+gp_editor.sizing.method),gp_editor.ui.width.closest("label").hide(),gp_editor.ui.height.closest("label").hide();break;case"fixed":gp_editor.ui.width.closest("label").show(),gp_editor.ui.height.closest("label").show()}gp_editor.getEmbedCode(!0),gp_editor.isDirty=!0},gp_editor.getYouTubeParams=function(){var e=gp_editor.edit_div.find("iframe").attr("src");if(!e)return alert("Error: Iframe not found or has no valid src attribute."),!1;var t=e.split("?"),a=!!t[0].lastIndexOf("/embed")&&t[0].substr(t[0].lastIndexOf("/embed")+7),i={};if((t.length>1?t[1].split("&"):[]).forEach(function(e){var t=(e=e.split("="))[0],a=decodeURIComponent(e[1]||"");i[t]?"[object Array]"===Object.prototype.toString.call(i[t])?i[t].push(a):i[t]=[i[t],a]:i[t]=a}),gp_editor.YouTubeParams=JSON.parse(JSON.stringify(i)),"string"==typeof gp_editor.YouTubeParams.list){var o={video:"",playlist:"",search:"",user_uploads:""};void 0===gp_editor.YouTubeParams.listType?"PL"==gp_editor.YouTubeParams.list.substr(0,2)&&(gp_editor.YouTubeParams.listType="playlist",o.playlist=gp_editor.YouTubeParams.list):o[gp_editor.YouTubeParams.listType]=gp_editor.YouTubeParams.list,gp_editor.YouTubeParams.list=o,gp_editor.YouTubeParams.list.video=a||""}return $.each(gp_editor.YouTubeDefaults,function(e,t){void 0===gp_editor.YouTubeParams[e]&&(gp_editor.YouTubeParams[e]=t)}),gp_editor.video=a||"",void 0!==gp_editor.YouTubeParams.playlist&&(gp_editor.video+=","+gp_editor.YouTubeParams.playlist),!0},gp_editor.setYouTubeParams=function(){gp_editor.YouTubeParams={autoplay:gp_editor.ui.autoplay.val(),cc_load_policy:gp_editor.ui.cc_load_policy.val(),color:gp_editor.ui.color.val(),controls:gp_editor.ui.controls.val(),disablekb:gp_editor.ui.disablekb.val(),end:gp_editor.ui.end.val().trim(),fs:gp_editor.ui.fs.val(),hl:gp_editor.ui.hl.val(),iv_load_policy:gp_editor.ui.iv_load_policy.val(),listType:gp_editor.ui.listType.val(),list:{video:gp_editor.ui.video.val(),playlist:gp_editor.ui.playlist.val(),search:gp_editor.ui.search.val(),user_upload:gp_editor.ui.user_uploads.val()},loop:gp_editor.ui.loop.val(),modestbranding:gp_editor.ui.modestbranding.val(),origin:gp_editor.ui.origin.val().trim(),playsinline:gp_editor.ui.playsinline.val(),rel:gp_editor.ui.rel.val(),showinfo:gp_editor.ui.showinfo.val(),start:gp_editor.ui.start.val().trim(),theme:gp_editor.ui.theme.val()};var e={};switch(gp_editor.video=!1,$.each(gp_editor.YouTubeDefaults,function(t,a){gp_editor.YouTubeParams[t]!=a&&""!=gp_editor.YouTubeParams[t]&&"object"!=typeof gp_editor.YouTubeParams[t]&&(e[t]=gp_editor.YouTubeParams[t])}),"--AUTO--"==e.hl&&delete e.hl,e.listType){default:case"video":gp_editor.ui.video.closest("label").show(),gp_editor.ui.playlist.closest("label").hide(),gp_editor.ui.search.closest("label").hide(),gp_editor.ui.user_uploads.closest("label").hide(),gp_editor.video=gp_editor.ui.video.val().trim(),"1"==e.loop&&(e.playlist=gp_editor.video),delete e.listType,delete e.list;break;case"playlist":gp_editor.ui.video.closest("label").hide(),gp_editor.ui.playlist.closest("label").show(),gp_editor.ui.search.closest("label").hide(),gp_editor.ui.user_uploads.closest("label").hide(),e.list=gp_editor.YouTubeParams.list.playlist;break;case"search":gp_editor.ui.video.closest("label").hide(),gp_editor.ui.playlist.closest("label").hide(),gp_editor.ui.search.closest("label").show(),gp_editor.ui.user_uploads.closest("label").hide(),e.list=gp_editor.YouTubeParams.list.search;break;case"user_uploads":gp_editor.ui.video.closest("label").hide(),gp_editor.ui.playlist.closest("label").hide(),gp_editor.ui.search.closest("label").hide(),gp_editor.ui.user_uploads.closest("label").show(),e.list=gp_editor.YouTubeParams.list.user_upload}var t=gp_editor.edit_div.find("iframe"),a="//www.youtube.com/embed"+(gp_editor.video?"/"+gp_editor.video:"");$.isEmptyObject(e)||(a+="?"+$.param(e)),t.attr("src",a),"1"==gp_editor.YouTubeParams.fs?t.attr("allowfullscreen","1"):t.removeAttr("allowfullscreen"),gp_editor.ui.embed_code.val(t[0].outerHTML.replace(/\&amp;/g,"&")),gp_editor.isDirty=!0};var a=gp_editor.getEmbedCode(!1);gp_editor.getSize(),gp_editor.getYouTubeParams(),gp_editor.ui.option_area=$('<div id="ts_YTE_options" />').prependTo("#ckeditor_controls");i=$('<div class="editor_ctl_box editor_ctl_edit_btn"><label title="Edit YouTube Embed Code" /></div>');gp_editor.ui.edit_button=$('<button id="ts_YTE_edit_code"><i class="fa fa-pencil"></i> Edit Embed Code</button>'),gp_editor.ui.edit_button.appendTo(i.find("label")).on("click",function(){gp_editor.toggleCodeEditing("show")}),i.appendTo(gp_editor.ui.option_area);var i=$('<div class="editor_ctl_box editor_ctl_code_editor"><div id="ts_YTE_editor_msg">YouTube Embed Code&nbsp;&nbsp;<a href="https://developers.google.com/youtube/player_parameters" target="_blank" id="ts_YTE_api_info" title="YouTube Player Parameters"><i class="fa fa-info-circle no-margin"></i></a></div><label title="YouTube Embed Code" /></div>');gp_editor.ui.embed_code=$('<textarea id="ts_YTE_ec" placeholder="Paste YouTube Embed Code here" required="required">'+gp_editor.embedCode+"</textarea>").appendTo(i.find("label")).on("change",function(){gp_editor.codeChanged=!0}),gp_editor.ui.apply_button=$('<button id="ts_YTE_apply_code"><i class="fa fa-check"></i> Apply</button>').appendTo(i).on("click",function(){gp_editor.toggleCodeEditing("apply")}),gp_editor.ui.close_button=$('<button id="ts_YTE_close_code"><i class="fa fa-times"></i> Close</button>').appendTo(i).on("click",function(){gp_editor.toggleCodeEditing("close")}),i.appendTo(gp_editor.ui.option_area),$.each(gp_editor.controls,function(e,t){var a=$('<div class="editor_ctl_box"/>');$.each(t,function(e,t){var i=$('<label title="'+t.title+'"/>');switch(void 0!==t.icon&&""!=t.icon&&(i.append('<i class="'+t.icon+' fa-fw"/>'),i.addClass("has-icon")),void 0!==t.classes&&""!=t.classes&&i.addClass(t.classes),gp_editor.ui[t.id]=$("<"+t.tag+"/>"),gp_editor.ui[t.id].attr("id","ts_YTE_"+t.id),void 0!==t.attrs&&gp_editor.ui[t.id].attr(t.attrs),"select"==t.tag&&void 0!==t.options&&$.each(t.options,function(e,a){gp_editor.ui[t.id].append('<option value="'+a.value+'">'+a.text+"</option>")}),void 0!==t.actions&&$.each(t.actions,function(e,a){gp_editor.ui[t.id].on(a.on,gp_editor[a.call])}),t.id){case"sizing":gp_editor.ui[t.id].val(gp_editor.sizing.method);break;case"width":case"height":gp_editor.ui[t.id].val(gp_editor.sizing[t.id]);break;case"video":gp_editor.ui[t.id].val(gp_editor.video);break;case"playlist":case"search":case"user_uploads":gp_editor.ui[t.id].val(gp_editor.YouTubeParams.list[t.id]);break;default:gp_editor.ui[t.id].val(gp_editor.YouTubeParams[t.id])}gp_editor.ui[t.id].appendTo(i),i.appendTo(a)}),a.appendTo(gp_editor.ui.option_area)}),"fixed"!=gp_editor.sizing.method&&(gp_editor.ui.width.closest("label").hide(),gp_editor.ui.height.closest("label").hide()),gp_editor.ui.video.closest("label").hide(),gp_editor.ui.playlist.closest("label").hide(),gp_editor.ui.search.closest("label").hide(),gp_editor.ui.user_uploads.closest("label").hide(),gp_editor.ui[gp_editor.YouTubeParams.listType].closest("label").show(),a&&window.setTimeout(function(){gp_editor.toggleCodeEditing("show"),gp_editor.ui.embed_code.focus().select()},1200),loaded(),$(window).trigger("resize")}